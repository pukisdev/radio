<script>
    $.fn.datepicker.defaults.format = "yyyy-mm-dd   ";
</script>
    <div class="panel panel-default" id="idModalMst" ng-show="formTampil">
        <div class="panel-heading"> &nbsp</div>
        <div class="panel-body">
            <div ng-show="muncul">MUNCUL</div>
            <!-- Table-to-load-the-data Part -->
            <div class="row">
                <div class="col-lg-12 margin-tb">
                    <div class="pull-left">
                        <h2>Form Pembayaran</h2>
                    </div>
                    <div class="pull-right" style="padding-top:30px">
                        <div class="box-tools" style="display:inline-table">
                          <!-- <div class="input-group">
                              <input type="text" class="form-control input-sm ng-valid ng-dirty" placeholder="Search" ng-change="searchDB()" ng-model="searchText" name="table_search" title="" tooltip="" data-original-title="Min character length is 3">
                              <span class="input-group-addon">Search</span>
                          </div> -->
                        </div>
                        <!-- <button class="btn btn-success" data-toggle="modal" data-target="#create-user">Create New</button> -->
                    </div>
                </div>
            </div>
            <div>
                <form name="frmMst" class="form-horizontal" novalidate="">
                    <div class="col-md-6">
                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.no_bukti.$invalid && frmMst.no_bukti.$touched }">
                            <label for="inputEmail3" class="col-sm-3 control-label">Nomor Bukti</label>
                            <div class="col-sm-9">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Otomatis" name="no_bukti" ng-model="dataForm.no_bukti" readonly="true">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="button" ng-click="showModal('idModalCustomer');">...</button>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.tgl_cetak.$invalid && frmMst.tgl_cetak.$touched }">
                            <label for="inputEmail3" class="col-sm-3 control-label">Tanggal</label>
                            <div class="col-sm-9">
                                <input type="date" class="form-control has-error" placeholder="Tanggal" name="tgl_cetak" ng-model="dataForm.tgl_cetak" >
                                <span class="help-inline" ng-messages="frmMst.tgl_cetak.$error" ng-show="frmMst.tgl_cetak.$invalid && frmMst.tgl_cetak.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>

                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.di_customer.$invalid && frmMst.di_customer.$touched }">
                            <label for="inputEmail3" class="col-sm-3 control-label">Bayar Kepada</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control has-error" placeholder="Bayar Kepada" name="di_customer" ng-model="dataForm.di_customer" ng-change="totalMst()">
                                <span class="help-inline" ng-messages="frmMst.di_customer.$error" ng-show="frmMst.di_customer.$invalid && frmMst.di_customer.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.status.$invalid && frmMst.status.$touched }">
                            <label for="inputEmail3" class="col-sm-3 control-label">Status Nota</label>
                            <div class="col-sm-9">
                                <select class="form-control" placeholder="Status Nota" name="status" ng-model="dataForm.status" ng-required="true">
                                    <option value> Pilih </option>
                                    <option value="0">Input</option>
                                    <option value="1">Bayar</option>
                                </select>
                                <span class="help-inline" ng-messages="frmMst.status.$error" ng-show="frmMst.status.$invalid && frmMst.status.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>

                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.jenis_bukti.$invalid && frmMst.jenis_bukti.$touched }">
                            <label for="inputEmail3" class="col-sm-3 control-label">Tipe Bayar</label>
                            <div class="col-sm-9">
                                <select class="form-control" placeholder="Tipe Bayar" name="jenis_bukti" ng-model="dataForm.jenis_bukti" ng-required="true" ng-change="setJenisBukti()">
                                    <option value> Pilih </option>
                                    <option value="K">Kas</option>
                                    <option value="B">Bank</option>
                                    <option value="G">Cek/Giro</option>
                                </select>
                                <span class="help-inline" ng-messages="frmMst.jenis_bukti.$error" ng-show="frmMst.jenis_bukti.$invalid && frmMst.jenis_bukti.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>

                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.pajak.$invalid && frmMst.pajak.$touched }">
                            <label for="inputEmail3" class="col-sm-3 control-label">Pajak POT/PUT</label>
                            <div class="col-sm-9">
                                <select class="form-control" placeholder="Pajak POT/PUT" name="pajak" ng-model="dataForm.pajak" ng-required="false">
                                    <option value> Pilih </option>
                                    <option value="pph21">PPH 21</option>
                                    <option value="pph23">PPH 23</option>
                                    <option value="pph4">PPH 4(2)</option>
                                </select>
                                <span class="help-inline" ng-messages="frmMst.pajak.$error" ng-show="frmMst.pajak.$invalid && frmMst.pajak.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>
                        <div class="form-group error">
                            <label for="inputEmail3" class="col-sm-3 control-label"></label>
                            <div class="col-sm-9">
                                <button type="button" class="btn btn-primary" ng-click="toggle('cancel',null)" title="klik untuk menampilkan form Bukti Potong Pajak" tooltips>Bukti Potong Pajak</button>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.total.$invalid && frmMst.total.$touched }">
                            <label for="inputEmail3" class="col-sm-2 control-label">Total</label>
                            <div class="col-sm-10">
                                <input type="text" name="total" currency-mask class="form-control has-error" placeholder="total" ng-model="dataForm.total" readonly>
                                <span class="help-inline" ng-messages="frmMst.total.$error" ng-show="frmMst.total.$invalid && frmMst.total.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>
                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.keterangan.$invalid && frmMst.keterangan.$touched }">
                            <label for="inputEmail3" class="col-sm-2 control-label">Keterangan</label>
                            <div class="col-sm-10">
                                <rte ng-model="dataForm.keterangan" required></rte>
                                <span class="help-inline" ng-messages="frmMst.keterangan.$error" ng-show="frmMst.keterangan.$invalid && frmMst.keterangan.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>
                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.terbilang.$invalid && frmMst.terbilang.$touched }">
                            <label for="inputEmail3" class="col-sm-2 control-label">Terbilang</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control has-error" placeholder="terbilang" name="terbilang" ng-model="dataForm.terbilang" readonly>
                                <span class="help-inline" ng-messages="frmMst.terbilang.$error" ng-show="frmMst.terbilang.$invalid && frmMst.terbilang.$touched">
                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2><i class="fa fa-bars"></i> Detail</h2>
                                <ul class="nav navbar-right panel_toolbox">
                                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                    </li>
                                    <!-- <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                        <ul class="dropdown-menu" role="menu">
                                            <li><a href="#">Settings 1</a>
                                            </li>
                                            <li><a href="#">Settings 2</a>
                                            </li>
                                        </ul>
                                    </li> -->
                                    <!-- <li><a class="close-link"><i class="fa fa-close"></i></a>
                                    </li> -->
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                    <div class="" role="tabpanel" data-example-id="togglable-tabs">
                                    <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                                        <li role="presentation" class="active"><a href="#tab_content1" id="home-tab" role="tab" data-toggle="tab" aria-expanded="true">Bukti Pembayaran</a>
                                        </li>
                                        <li role="presentation" class=""><a href="#tab_content2" role="tab" id="profile-tab" data-toggle="tab"  aria-expanded="false">Jurnal General Ledger</a>
                                        </li>
                                        <li role="presentation" class=""><a href="#tab_content4" role="tab" id="profile-tab3" data-toggle="tab" aria-expanded="false">Account Payable</a>
                                        </li>
                                    </ul>
                                    <div id="myTabContent" class="tab-content">
                                        <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="home-tab">
                                            <div class="col-md-12" ng-show = "!show_kas">
                                                <hr/>
                                                <button id="btn-add" class="btn btn-primary" ng-click="lovNpb(0, 'tambah')">Tambah</button>
                                                <div class="col-md-12">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered pagin-table" id="table-detail-faktur">
                                                            <thead>
                                                                <tr>
                                                                    <th style="min-width:300px;">Nota PB</th>
                                                                    <th style="min-width:350px;">Keterangan</th>
                                                                    <th style="min-width:250px;">Currency</th>
                                                                    <th style="min-width:250px;">Nilai</th>
                                                                    <th style="min-width:250px;">Jumlah</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="abc">
                                                                <tr  ng-repeat="values in dataForm.bpk" id="tr-[[$index]]">
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.no_customer.$invalid && frmMst.no_customer.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-danger" type="button" ng-click="rmLovNpb(values, dataForm.no_bukti, $index);"><span class="glyphicon glyphicon-trash"></span></button>
                                                                                    </span>
                                                                                    <input type="text" class="form-control has-error" placeholder="Nota PB" name="no_customer" ng-model="dataForm.bpk[$index].no_customer" required readonly>
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovNpb($index, 'edit');">...</button>
                                                                                    </span>
                                                                                </div>
                                                                                <span class="help-inline" ng-messages="frmMst.no_customer.$error" ng-show="frmMst.no_customer.$invalid && frmMst.no_customer.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                        
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.keterangan.$invalid && frmMst.keterangan.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Keterangan" name="keterangan" ng-model="dataForm.bpk[$index].keterangan" required>
                                                                                <span class="help-inline" ng-messages="frmMst.keterangan.$error" ng-show="frmMst.keterangan.$invalid && frmMst.keterangan.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.currency_id.$invalid && frmMst.currency_id.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Currency" name="currency_id" ng-model="dataForm.bpk[$index].currency_id" readonly>
                                                                                <span class="help-inline" ng-messages="frmMst.currency_id.$error" ng-show="frmMst.currency_id.$invalid && frmMst.currency_id.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.nilai.$invalid && frmMst.nilai.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" currency-mask class="form-control has-error" placeholder="Nilai" name="Nilai" ng-change="totalMst()" ng-model="dataForm.bpk[$index].nilai" required>
                                                                                <span class="help-inline" ng-messages="frmMst.nilai.$error" ng-show="frmMst.nilai.$invalid && frmMst.nilai.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.jumlah.$invalid && frmMst.jumlah.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" currency-mask class="form-control has-error" placeholder="Jumlah" name="jumlah" ng-change="totalMst()" ng-model="dataForm.bpk[$index].jumlah" required>
                                                                                <span class="help-inline" ng-messages="frmMst.jumlah.$error" ng-show="frmMst.jumlah.$invalid && frmMst.jumlah.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>                        
                                            </div>
                                            <div class="col-md-12" ng-show = "show_bank">
                                                <div class="col-md-12">
                                                    <div class="form-group error" ng-class="{ 'has-error' : frmMst.no_bank.$invalid && frmMst.no_bank.$touched }">
                                                        <label for="inputEmail3" class="col-sm-3 control-label">Bank</label>
                                                        <div class="col-sm-9">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" placeholder="No Bank" name="no_bank" ng-model="dataForm.bpb_b.no_bank" readonly="true">
                                                                <span class="input-group-btn">
                                                                    <button class="btn btn-default" type="button" ng-click="lovBank();">...</button>
                                                                </span>
                                                                <input type="text" class="form-control" placeholder="Nama Bank" name="nama_bank" ng-model="dataForm.bpb_b.nama_bank" readonly="true">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group error" ng-class="{ 'has-error' : frmMst.no_bank.$invalid && frmMst.no_bank.$touched }">
                                                        <label for="inputEmail3" class="col-sm-3 control-label">Account Bank</label>
                                                        <div class="col-sm-9">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" placeholder="Account Bank" name="account_bank" ng-model="dataForm.bpb_b.account_bank" readonly="true">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group error" ng-class="{ 'has-error' : frmMst.jenis_trans.$invalid && frmMst.jenis_trans.$touched }">
                                                        <label for="inputEmail3" class="col-sm-3 control-label">Jenis Trans</label>
                                                        <div class="col-sm-9">
                                                            <div class="input-group">
                                                                <input type="text" class="form-control" placeholder="Kode" name="jenis_trans" ng-model="dataForm.bpb_j.jenis_trans" readonly="true">
                                                                <span class="input-group-btn">
                                                                    <button class="btn btn-default" type="button" ng-click="lovJnsTrans();">...</button>
                                                                </span>
                                                                <input type="text" class="form-control" placeholder="Transaksi" name="transaksi" ng-model="dataForm.bpb_j.transaksi" readonly="true">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group error" ng-class="{ 'has-error' : frmMst.nilai.$invalid && frmMst.nilai.$touched }">
                                                        <label for="inputEmail3" class="col-sm-3 control-label">Nilai</label>
                                                        <div class="col-sm-9">
                                                            <div class="input-group">
                                                                <input type="text" currency-mask class="form-control" placeholder="Nilai" name="nilai" ng-model="dataForm.bpb.nilai" ng-change="totalMst()">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group error" ng-class="{ 'has-error' : frmMst.keterangan.$invalid && frmMst.keterangan.$touched }">
                                                        <label for="inputEmail3" class="col-sm-3 control-label">Keterangan</label>
                                                        <div class="col-sm-9">
                                                            <div class="input-group col-sm-9">
                                                                <input type="text" class="form-control" placeholder="Keterangan" name="keterangan" ng-model="dataForm.bpb.keterangan">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                            
                                            </div>
                                            <div class="col-md-12" ng-show = "show_giro">
                                                <hr/>
                                                <button id="btn-add" class="btn btn-primary" ng-click="lovBank2(0, 'tambah')">Tambah</button>
                                                <div class="col-md-12">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered pagin-table" id="table-detail-faktur">
                                                            <thead>
                                                                <tr>
                                                                    <th style="min-width:300px;">No Giro</th>
                                                                    <th style="min-width:250px;">Jth Tempo</th>
                                                                    <th style="min-width:250px;">Nilai</th>
                                                                    <th style="min-width:250px;">Dari Account</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="abc">
                                                                <tr  ng-repeat="values in dataForm.bpc" id="tr-[[$index]]">
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.no_giro.$invalid && frmMst.no_giro.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-danger" type="button" ng-click="rmLovBank2(values, dataForm.no_bukti, $index);"><span class="glyphicon glyphicon-trash"></span></button>
                                                                                    </span>
                                                                                    <input type="text" class="form-control has-error" placeholder="No Giro" name="no_giro" ng-model="dataForm.bpc[$index].no_giro" required>
                                                                                </div>
                                                                            </div>
                                                                        </div>                                        
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.jth_tempo.$invalid && frmMst.jth_tempo.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="date" class="form-control has-error" placeholder="Keterangan" name="jth_tempo" ng-model="dataForm.bpc[$index].jth_tempo" required>
                                                                                <span class="help-inline" ng-messages="frmMst.jth_tempo.$error" ng-show="frmMst.jth_tempo.$invalid && frmMst.jth_tempo.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.nilai.$invalid && frmMst.nilai.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" currency-mask class="form-control has-error" placeholder="Nilai" name="nilai" ng-change="totalMst()" ng-model="dataForm.bpc[$index].nilai" required>
                                                                                <span class="help-inline" ng-messages="frmMst.nilai.$error" ng-show="frmMst.nilai.$invalid && frmMst.nilai.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.dari_account.$invalid && frmMst.dari_account.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <input type="text" class="form-control has-error" placeholder="Dari Account" name="dari_account" ng-model="dataForm.bpc[$index].dari_account" required readonly>
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovBank2($index, 'edit');">...</button>
                                                                                    </span>
                                                                                </div>
                                                                                <span class="help-inline" ng-messages="frmMst.dari_account.$error" ng-show="frmMst.dari_account.$invalid && frmMst.dari_account.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                        
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>                        
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="tab_content2" aria-labelledby="profile-tab">
                                            <div class="col-md-12">
                                                <hr/>
                                                <button id="btn-add" class="btn btn-primary" ng-click="lovAccCoa(0, 'tambah')">Tambah</button>
                                                <div class="col-md-12">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered pagin-table" id="table-detail-faktur">
                                                            <thead>
                                                                <tr>
                                                                    <th style="min-width:300px;">Nomor Account</th>
                                                                    <th style="min-width:300px;">Nama Account</th>
                                                                    <th style="min-width:100px;">Curr</th>
                                                                    <th style="min-width:150px;">Cost Center</th>
                                                                    <th style="min-width:150px;">Ket Cost Center</th>
                                                                    <th style="min-width:200px;">Debet</th>
                                                                    <th style="min-width:200px;">Kredit</th>
                                                                    <th style="min-width:350px;">Keterangan</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="abc">
                                                                <tr  ng-repeat="values in dataForm.gl" id="tr-[[$index]]">
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.coa_id.$invalid && frmMst.coa_id.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-danger" type="button" ng-click="rmLovAccCoa(values, dataForm.no_bukti, $index);"><span class="glyphicon glyphicon-trash"></span></button>
                                                                                    </span>
                                                                                    <input type="text" class="form-control has-error" placeholder="Nomor Account" name="coa_id" ng-model="dataForm.gl[$index].coa_id" ng-minlength="1" required readonly>
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovAccCoa($index, 'edit');">...</button>
                                                                                    </span>
                                                                                </div>
                                                                                <span class="help-inline" ng-messages="frmMst.coa_id.$error" ng-show="frmMst.coa_id.$invalid && frmMst.coa_id.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                        
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.coa_name.$invalid && frmMst.coa_name.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Nama Account" name="coa_name" ng-model="dataForm.gl[$index].coa_name" readonly>
                                                                                <span class="help-inline" ng-messages="frmMst.coa_name.$error" ng-show="frmMst.coa_name.$invalid && frmMst.coa_name.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.currency_id.$invalid && frmMst.currency_id.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Mata Uang" name="currency_id" ng-model="dataForm.gl[$index].currency_id" required readonly>
                                                                                <span class="help-inline" ng-messages="frmMst.currency_id.$error" ng-show="frmMst.currency_id.$invalid && frmMst.currency_id.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.costcenter.$invalid && frmMst.costcenter.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <input type="text" class="form-control has-error" placeholder="Cost Center" name="costcenter" ng-model="dataForm.gl[$index].costcenter" readonly>
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovCostCenter($index, 'edit');">...</button>
                                                                                    </span>
                                                                                </div>
                                                                                <span class="help-inline" ng-messages="frmMst.costcenter.$error" ng-show="frmMst.costcenter.$invalid && frmMst.costcenter.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.cost_keterangan.$invalid && frmMst.cost_keterangan.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <input type="text" class="form-control has-error" placeholder="Cost Center" name="cost_keterangan" ng-model="dataForm.gl[$index].cost_keterangan" readonly>
                                                                                    <!--
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovCostCenter($index, 'edit');">...</button>
                                                                                    </span>
                                                                                    -->
                                                                                </div>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.debet.$invalid && frmMst.debet.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" currency-mask class="form-control has-error" placeholder="Debet" name="debet" ng-model="dataForm.gl[$index].debet" ng-change="totalGL()" required>
                                                                                <span class="help-inline" ng-messages="frmMst.debet.$error" ng-show="frmMst.debet.$invalid && frmMst.debet.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.kredit.$invalid && frmMst.kredit.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" currency-mask class="form-control has-error" placeholder="Kredit" name="kredit" ng-model="dataForm.gl[$index].kredit" ng-change="totalGL()" required>
                                                                                <span class="help-inline" ng-messages="frmMst.kredit.$error" ng-show="frmMst.kredit.$invalid && frmMst.kredit.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.keterangan.$invalid && frmMst.keterangan.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Keterangan" name="keterangan" ng-model="dataForm.gl[$index].keterangan" required>
                                                                                <span class="help-inline" ng-messages="frmMst.keterangan.$error" ng-show="frmMst.keterangan.$invalid && frmMst.keterangan.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                            <tfoot>
                                                                <tr>
                                                                    <th style="min-width:350px;" colspan="5">Jumlah Debet/Kredit</th>
                                                                    <th>
                                                                        <div class="form-group error">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" name="jml_debet" currency-mask class="form-control has-error" placeholder="jml_debet" ng-model="dataForm.jml_debet" readonly>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th>
                                                                        <div class="form-group error">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" name="jml_kredit" currency-mask class="form-control has-error" placeholder="jml_kredit" ng-model="dataForm.jml_kredit" readonly>
                                                                            </div>
                                                                        </div>
                                                                    </th>
                                                                    <th></th>
                                                                 </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>                        
                                            </div>
                                        </div>
                                        <div role="tabpanel" class="tab-pane fade" id="tab_content4" aria-labelledby="profile-tab">
                                            <div class="col-md-12">
                                                <hr/>
                                                <button id="btn-add" class="btn btn-primary" ng-click="lovApCst(0, 'tambah')">Tambah</button>
                                                <div class="col-md-12">
                                                    <div class="table-responsive">
                                                        <table class="table table-bordered pagin-table" id="table-detail-faktur">
                                                            <thead>
                                                                <tr>
                                                                    <th style="min-width:300px;">Account</th>
                                                                    <th style="min-width:250px;">Keterangan</th>
                                                                    <th style="min-width:250px;">No Invoice</th>
                                                                    <th style="min-width:150px;">PO Id</th>
                                                                    <th style="min-width:300px;">Curr</th>
                                                                    <th style="min-width:300px;">Nilai Potong</th>
                                                                    <th style="min-width:200px;">Nilai Bayar</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="abc">
                                                                <tr  ng-repeat="values in dataForm.ap" id="tr-[[$index]]">
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.ap_coa_id.$invalid && frmMst.ap_coa_id.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-danger" type="button" ng-click="rmLovApCst(values, dataForm.no_bukti, $index);"><span class="glyphicon glyphicon-trash"></span></button>
                                                                                    </span>
                                                                                    <input type="text" class="form-control has-error" placeholder="Account" name="ap_coa_id" ng-model="dataForm.ap[$index].ap_coa_id" ng-minlength="1" required readonly>
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovApCst($index, 'edit');">...</button>
                                                                                    </span>
                                                                                </div>
                                                                                <span class="help-inline" ng-messages="frmMst.ap_coa_id.$error" ng-show="frmMst.ap_coa_id.$invalid && frmMst.ap_coa_id.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                        
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.ap_coa_name.$invalid && frmMst.ap_coa_name.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Coa Name" name="nama_customer" ng-model="dataForm.ap[$index].ap_coa_name" readonly>
                                                                                <span class="help-inline" ng-messages="frmMst.ap_coa_name.$error" ng-show="frmMst.ap_coa_name.$invalid && frmMst.ap_coa_name.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.no_invoice.$invalid && frmMst.no_invoice.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <div class="input-group">
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-danger" type="button" ng-click="rmlovFakturHutang($index);"><span class="glyphicon glyphicon-trash"></span></button>
                                                                                    </span>
                                                                                    <input type="text" class="form-control has-error" placeholder="No Invoice" name="no_invoice" ng-model="dataForm.ap_det[$index].no_invoice" ng-minlength="1" required readonly>
                                                                                    <span class="input-group-btn">
                                                                                        <button class="btn btn-default" type="button" ng-click="lovFakturHutang($index, 'edit', dataForm.ap_det[$index]);">...</button>
                                                                                    </span>
                                                                                </div>
                                                                                <span class="help-inline" ng-messages="frmMst.no_invoice.$error" ng-show="frmMst.no_invoice.$invalid && frmMst.no_invoice.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                        
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.po_id.$invalid && frmMst.po_id.$touched }">
                                                                            <div class="col-sm-12">
                                                                                    <input type="text" class="form-control has-error" placeholder="Mata Uang" name="po_id" ng-model="dataForm.ap_det[$index].po_id" readonly>
                                                                                <span class="help-inline" ng-messages="frmMst.po_id.$error" ng-show="frmMst.po_id.$invalid && frmMst.currency_id.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.currency_id.$invalid && frmMst.currency_id.$touched }">
                                                                            <div class="col-sm-12">
                                                                                    <input type="text" class="form-control has-error" placeholder="Mata Uang" name="currency_id" ng-model="dataForm.ap_det[$index].currency_id" readonly>
                                                                                <span class="help-inline" ng-messages="frmMst.currency_id.$error" ng-show="frmMst.currency_id.$invalid && frmMst.currency_id.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.nilai_bayar.$invalid && frmMst.nilai_bayar.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" currency-mask class="form-control has-error" placeholder="Nilai Bayar" name="nilai_bayar" ng-model="dataForm.ap_det[$index].nilai_bayar" required>
                                                                                <span class="help-inline" ng-messages="frmMst.nilai_bayar.$error" ng-show="frmMst.nilai_bayar.$invalid && frmMst.nilai_bayar.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="form-group error" ng-class="{ 'has-error' : frmMst.keterangan.$invalid && frmMst.keterangan.$touched }">
                                                                            <div class="col-sm-12">
                                                                                <input type="text" class="form-control has-error" placeholder="Keterangan" name="keterangan" ng-model="dataForm.ap_det[$index].keterangan">
                                                                                <span class="help-inline" ng-messages="frmMst.keterangan.$error" ng-show="frmMst.keterangan.$invalid && frmMst.keterangan.$touched">
                                                                                    <ng-messages-include src="/assets/ng/views/etc/messages.html"></ng-messages-include>
                                                                                </span>
                                                                            </div>
                                                                        </div>                                            
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>                        
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <hr/>
                        <div class="pull-right">
                            <button type="button" class="btn btn-default" ng-click="toggle('cancel',null)">Cancel</button>
                            <button type="button" class="btn btn-primary" id="btn-save" ng-click="save(modalstate, idState)" ng-disabled="frmMst.$invalid">Save changes</button>
                            <!-- <button type="button" class="btn btn-primary" id="btn-save" ng-click="trace()" ng-disabled="frmMst.$invalid">Save changes</button> -->
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>